<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastBank | –ü—Ä–æ—Ñ–∏–ª—å</title>
    <style>
        :root {
            --primary: #4f8ff8;
            --primary-light: #e8f0fe;
            --primary-extra-light: #f5f9ff;
            --secondary: #5c6bc0;
            --dark: #3c4043;
            --light: #faf6f6;
            --light-gray: #ffffff;
            --gray: #e0e0e0;
            --text-gray: #5f6368;
            --accent: #34a853;
            --danger: #ea4335;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background-color: var(--primary-extra-light);
            color: var(--dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        header {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 15px 5%;
            display: flex;
            background-color: white;

            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 25px;
            font-weight: bold;
            color: #132bb4;
            text-decoration: none;
        }

        .logo img {
            height: 40px;
            margin-right: -5px;
            max-width: 50px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
        }

        .avatar {
            position: relative;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-initials {
            color: white;
            font-weight: 500;
        }

        .online-status {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 10px;
            height: 10px;
            background: var(--accent);
            border-radius: 50%;
            border: 2px solid var(--light);
        }

        .user-name .welcome {
            font-size: 11px;
            color: var(--text-gray);
        }

        .user-name .name {
            font-size: 14px;
            font-weight: 500;
        }

        .main-content {
            padding: 25px 5%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            max-width: 800px;
            margin: 0 auto;
        }

        .exchange-section {
            border-radius: 16px;
            padding: 20px;
            width: 100%;
            box-shadow: 0 2px 10px rgba(66, 133, 244, 0.1);
            border: 1px solid rgba(66, 133, 244, 0.2);
            transition: all 0.3s ease;
        }

        .exchange-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 500;
            color: var(--dark);
        }

        .exchange-date {
            font-size: 12px;
            color: var(--text-gray);
        }

        .exchange-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .exchange-item {
            background: var(--primary-extra-light);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(66, 133, 244, 0.1);
        }

        .exchange-currency {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .currency-flag {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            border: 1px solid var(--gray);
        }

        .currency-name {
            font-size: 14px;
            font-weight: 500;
        }

        .currency-rate {
            font-size: 14px;
            font-weight: 500;
        }

        .settings-container {
            width: 100%;
        }

        .settings-section {
            border-radius: 16px;
            padding: 20px;
            width: 100%;
            box-shadow: 0 2px 10px rgba(66, 133, 244, 0.1);
            border: 1px solid rgba(66, 133, 244, 0.2);
            display: none;
            transition: all 0.3s ease;
        }

        .settings-section.active {
            display: block;
        }

        .settings-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .settings-card {
            background: var(--primary-extra-light);
            border-radius: 12px;
            padding: 18px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid rgba(66, 133, 244, 0.1);
            text-align: center;
        }

        .settings-card:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(66, 133, 244, 0.1);
        }

        .settings-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 2px 6px rgba(66, 133, 244, 0.1);
        }

        .settings-title {
            font-size: 14px;
            font-weight: 500;
            color: var(--dark);
        }

        .content-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            margin-right: 15px;
        }

        .content-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--gray);
        }

        .content-item label {
            font-weight: 500;
            color: var(--text-gray);
        }

        .action-btn {
            margin-top: 20px;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            width: 200px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .action-btn:hover {
            background: var(--secondary);
        }

        @media (max-width: 600px) {
            .settings-menu {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 400px) {
            .settings-menu {
                grid-template-columns: 1fr;
            }
        }
        #ss{
            margin-right: 10px;
        }
    </style>
</head>
<body>
<header>
    <a href="#" class="logo" id="ss">
        <img src="https://avatars.mds.yandex.net/i?id=0ef6a458b81d8d25ad5bb535ae554682_l-5261679-images-thumbs&n=13" alt="–õ–æ–≥–æ—Ç–∏–ø –±–∞–Ω–∫–∞">
        FastBank
    </a>
    <div class="user-info" id="user_info" onclick="redirectToHome()">
        <div class="avatar" id="avatar">
            <div class="avatar-initials" id="avatar_name">–ò–ò</div>
            <div class="online-status"></div>
        </div>
        <div class="user-name">
            <div class="welcome">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</div>
            <div class="name" id="name">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á</div>
        </div>
    </div>
</header>

<main class="main-content">
    <!-- –ë–ª–æ–∫ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç -->
    <section class="exchange-section" id="exchange-rates">
        <div class="exchange-header">
            <h2 class="section-title">–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</h2>
            <div class="exchange-date" id="exchangeDate">–°–µ–≥–æ–¥–Ω—è, 15:30</div>
        </div>
        <div class="exchange-list">
            <div class="exchange-item">
                <div class="exchange-currency">
                    <div class="currency-flag">üá∫üá∏</div>
                    <div class="currency-name">USD / RUB</div>
                </div>
                <div class="currency-rate" id="usd"></div>
            </div>
            <div class="exchange-item">
                <div class="exchange-currency">
                    <div class="currency-flag">üá™üá∫</div>
                    <div class="currency-name">EUR / RUB</div>
                </div>
                <div class="currency-rate" id="eur">100.72 ‚ÇΩ</div>
            </div>
            <div class="exchange-item">
                <div class="exchange-currency">
                    <div class="currency-flag">üá®üá≥</div>
                    <div class="currency-name">CNY / RUB</div>
                </div>
                <div class="currency-rate" id="cny">12.85 ‚ÇΩ</div>
            </div>
        </div>
    </section>

    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <div class="settings-container">
        <section class="settings-section active" id="main-settings">
            <div>
                <div style="font-size: 25px; cursor: pointer" onclick="redirectToHome()">‚Ü©</div>
                <h2 class="section-title" style="text-align: center; margin-top: -25px">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h2><br>
            </div>
            <div class="settings-menu">
                <div class="settings-card" onclick="showSettingsContent('personal-data')">
                    <div class="settings-icon">üë§</div>
                    <div class="settings-title">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                </div>
                <div class="settings-card" onclick="showSettingsContent('notifications')">
                    <div class="settings-icon">üìÑ</div>
                    <div class="settings-title">–ó–∞–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É</div>
                </div>
                <div class="settings-card" onclick="showSettingsContent('security')">
                    <div class="settings-icon">üîí</div>
                    <div class="settings-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
                </div>
                <div class="settings-card" onclick="showSettingsContent('language')">
                    <div class="settings-icon">üåê</div>
                    <div class="settings-title">–Ø–∑—ã–∫ –∏ —Ä–µ–≥–∏–æ–Ω</div>
                </div>
            </div>
        </section>

        <!-- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
        <section class="settings-section" id="personal-data-content">
            <div class="content-header">
                <button class="back-btn" onclick="showMainSettings()">‚Üê</button>
                <h2 class="section-title">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
            </div>
            <div class="content-body">
                <div class="content-item">
                    <label>–ò–º—è:</label>
                    <span id="info-first-name">–ò–≤–∞–Ω</span>
                </div>
                <div class="content-item">
                    <label>–§–∞–º–∏–ª–∏—è:</label>
                    <span id="info-last-name">–ò–≤–∞–Ω–æ–≤</span>
                </div>
                <div class="content-item">
                    <label>–û—Ç—á–µ—Å—Ç–≤–æ:</label>
                    <span id="frame">–ò–≤–∞–Ω–æ–≤–∏—á</span>
                </div>
                <div class="content-item">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                    <span id="number_phone">+7 (123) 456-78-90</span>
                </div>
            </div>
        </section>

        <!-- –ó–∞–∫–∞–∑ —Å–ø—Ä–∞–≤–∫–∏ -->
        <section class="settings-section" id="notifications-content">
            <div class="content-header">
                <button class="back-btn" onclick="showMainSettings()">‚Üê</button>
                <h2 class="section-title">–í—ã–ø–∏—Å–∫–∞ —Å–æ —Å—á–µ—Ç–∞</h2><br>
            </div>
            <h1 style="text-align: center">–í—ã–ø–∏—Å–∫–∞ –æ –¥–æ—Å—Ç—É–ø–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ</h1><br>
            <div class="content-body">
                <button class="action-btn" onclick="editSecurity2()">–ó–∞–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É</button>
            </div>
        </section>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
        <section class="settings-section" id="security-content">
            <div class="content-header">
                <button class="back-btn" onclick="showMainSettings()">‚Üê</button>
                <h2 class="section-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
            </div>
            <div class="content-body">
                <div class="content-item">
                    <label>–ü–∏–Ω-–∫–æ–¥:</label>
                    <span>********</span>
                </div>
                <div class="content-item">
                    <label>–£—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã:</label>
                    <span>–í—ã—Å–æ–∫–∏–π</span>
                </div>
                <div class="content-item">
                    <label>–°–∫—Ä—ã—Ç—å –±–∞–ª–∞–Ω—Å:</label>
                    <input type="checkbox">
                </div>
                <button class="action-btn" onclick="editSecurity()">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∏–Ω-–∫–æ–¥</button>
            </div>
        </section>

        <!-- –Ø–∑—ã–∫ –∏ —Ä–µ–≥–∏–æ–Ω -->
        <section class="settings-section" id="language-content">
            <div class="content-header">
                <button class="back-btn" onclick="showMainSettings()">‚Üê</button>
                <h2 class="section-title">–Ø–∑—ã–∫ –∏ —Ä–µ–≥–∏–æ–Ω</h2>
            </div>
            <div class="content-body">
                <div class="content-item">
                    <label>–Ø–∑—ã–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</label>
                    <span>–†—É—Å—Å–∫–∏–π</span>
                </div>
                <div class="content-item">
                    <label>–°—Ç—Ä–∞–Ω–∞:</label>
                    <span>–†–æ—Å—Å–∏—è</span>
                </div>
                <div class="content-item">
                    <label>–í–∞–ª—é—Ç–∞:</label>
                    <span>–†—É–±–ª—å (RUB)</span>
                </div>
                <button class="action-btn" onclick="showMainSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </section>
    </div>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è jsPDF
    window.jsPDF = window.jspdf.jsPDF;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF —Å–ø—Ä–∞–≤–∫–∏
    function generatePdf() {
        try {
            const doc = new jsPDF();
            doc.setFont('helvetica');

            // –ó–∞–≥–æ–ª–æ–≤–æ–∫
            doc.setFontSize(16);
            doc.setTextColor(0, 0, 128);
            doc.text("–°–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Å—Ç—É–ø–Ω–æ–º –æ—Å—Ç–∞—Ç–∫–µ", 20, 20);

            // –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
            doc.setFontSize(12);
            doc.setTextColor(0, 0, 0);

            const userData = {
                name: document.getElementById('info-last-name').textContent + ' ' +
                    document.getElementById('info-first-name').textContent + ' ' +
                    document.getElementById('frame').textContent,
                phone: document.getElementById('number_phone').textContent,
                date: new Date().toLocaleDateString('ru-RU')
            };

            const lines = [
                "–¢–ï–õ.: +7 495 648-10-00, TBANK.RU",
                "",
                `‚Ññ ${Math.floor(Math.random() * 10000)}—Å${Math.floor(Math.random() * 100)}—Å ${userData.date}`,
                "",
                userData.name,
                "",
                "–ê–û ¬´–¢–ë–∞–Ω–∫¬ª, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è –ë–∞–Ω–∫–∞ –†–æ—Å—Å–∏–∏ ‚Ññ 2673",
                "—Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ " + userData.date,
                "—Å—É–º–º–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 300,00 —Ä—É–±–ª–µ–π",
                "(—Ç—Ä–∏—Å—Ç–∞ —Ä—É–±–ª–µ–π 00 –∫–æ–ø–µ–µ–∫).",
                "",
                "–° —É–≤–∞–∂–µ–Ω–∏–µ–º,",
                "",
                "–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë—ç–∫-–æ—Ñ–∏—Å –ï.–°. –®–∞–¥—Ä–∏–Ω–∞"
            ];

            let y = 40;
            lines.forEach(line => {
                if (line) {
                    doc.text(line, 20, y);
                    y += 10;
                }
            });

            doc.save('–°–ø—Ä–∞–≤–∫–∞_–æ_–¥–æ—Å—Ç—É–ø–Ω–æ–º_–æ—Å—Ç–∞—Ç–∫–µ.pdf');
            alert("–°–ø—Ä–∞–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!");
        } catch (error) {
            console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF:", error);
            alert("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ø—Ä–∞–≤–∫–∏.");
        }
    }

    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    function redirectToHome() {
        window.location.href = "https://hellohost-8hql.onrender.com/home";
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    async function loadUserData() {
        try {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
            const response = await fetch("https://hellohost-8hql.onrender.com/curs_usd");
            if (response.ok) {
                const data = await response.json();
                document.getElementById("usd").textContent = data.usd.rate.substring(0, 5) + " ‚ÇΩ";
                document.getElementById("eur").textContent = data.eur.rate.substring(0, 5) + " ‚ÇΩ";
                document.getElementById("cny").textContent = data.chy.rate.substring(0, 5) + " ‚ÇΩ";
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            const name = localStorage.getItem("name") || "–ò–≤–∞–Ω";
            const surname = localStorage.getItem("two_name") || "–ò–≤–∞–Ω–æ–≤";
            const patronymic = localStorage.getItem("frame") || "–ò–≤–∞–Ω–æ–≤–∏—á";
            const phone = localStorage.getItem("number_phone") || "+7 (123) 456-78-90";

            document.getElementById("name").textContent = `${name} ${patronymic}`;
            document.getElementById("info-first-name").textContent = name;
            document.getElementById("info-last-name").textContent = surname;
            document.getElementById("frame").textContent = patronymic;
            document.getElementById("number_phone").textContent = phone;

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
            const avatar = document.getElementById("avatar");
            const photo = localStorage.getItem("pjoto_user");
            if (photo) {
                avatar.innerHTML = `<img src="https://hellohost-8hql.onrender.com/uploads/${photo}" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è">`;
            } else {
                document.getElementById("avatar_name").textContent = name[0] + surname[0];
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—ã
            const options = { day: 'numeric', month: 'long', hour: '2-digit', minute: '2-digit' };
            document.getElementById('exchangeDate').textContent =
                "–°–µ–≥–æ–¥–Ω—è " + new Date().toLocaleDateString('ru-RU', options);
        } catch (error) {
            console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:", error);
        }
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ä–∞–∑–¥–µ–ª–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    function showSettingsContent(contentId) {
        document.getElementById('exchange-rates').style.display = 'none';
        document.querySelectorAll('.settings-section').forEach(section => {
            section.classList.remove('active');
        });
        document.getElementById(`${contentId}-content`).classList.add('active');
    }

    function showMainSettings() {
        document.getElementById('exchange-rates').style.display = 'block';
        document.querySelectorAll('.settings-section').forEach(section => {
            section.classList.remove('active');
        });
        document.getElementById('main-settings').classList.add('active');
    }

    // –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    function editSecurity() {
        alert("–§—É–Ω–∫—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∏–Ω-–∫–æ–¥–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏");
    }
    function editSecurity2() {
        alert("–§—É–Ω–∫—Ü–∏—è –≤—ã–ø–∏—Å–∫–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏");
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', loadUserData);
</script>
</body>
</html>